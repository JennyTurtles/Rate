<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.sys.rate.mapper.PaperOperMapper">
    
    <resultMap type="org.sys.rate.model.PaperOper" id="PaperOperResult">
        <result property="ID"    column="ID"    />
        <result property="operatorRole"    column="operatorRole"    />
        <result property="operatorName"    column="operatorName"    />
        <result property="operatorID"    column="operatorID"    />
        <result property="paperID"    column="paperID"    />
        <result property="paperName"    column="paperName"    />
        <result property="pubID"    column="pubID"    />
        <result property="pubName"    column="pubName"    />
        <result property="time"    column="time"    />
        <result property="operation"    column="operation"    />
        <result property="state"    column="state"    />
        <result property="remark"    column="remark"    />
    </resultMap>


    <sql id="selectPaperOperVo">
        select ID,operatorRole,operatorName,operatorID,paperID,paperName,pubID,pubName,time, operation,state,remark from paper_oper
    </sql>

    <select id="selectList" resultMap="PaperOperResult">
        <include refid="selectPaperOperVo"></include>
        where paperID=#{ID}
    </select>

<!--    <select id="selectListById" resultMap="PaperResult">-->
<!--        <include refid="selectPaperVo"></include>-->
<!--        <where>-->
<!--            <if test="studentID != null  and studentID != ''"> and studentID = #{studentID}</if>-->
<!--            <if test="page !=null and size!=null">-->
<!--                limit #{page},#{size}-->
<!--            </if>-->
<!--        </where>-->
<!--    </select>-->

<!--    <select id="selectPaperList" parameterType="org.sys.rate.model.Paper" resultMap="PaperResult">-->
<!--        <include refid="selectPaperVo"/>-->
<!--        <where>-->
<!--            <if test="ID !=null and ID !=''">and ID =#{ID}</if>-->
<!--            <if test="studentID != null "> and studentID = #{studentID}</if>-->
<!--            <if test="name != null  and name != ''"> and name like concat('%', #{name}, '%')</if>-->
<!--            <if test="year != null  and year != ''"> and year = #{year}</if>-->
<!--            <if test="month != null "> and month = #{month}</if>-->
<!--            <if test="rank != null "> and rank = #{rank}</if>-->
<!--            <if test="total != null "> and total = #{total}</if>-->
<!--            <if test="point != null "> and point = #{point}</if>-->
<!--            <if test="publicationID != null "> and publicationID = #{publicationID}</if>-->
<!--            <if test="url != null "> and url = #{url}</if>-->
<!--        </where>-->
<!--    </select>-->
    
<!--    <select id="selectPaperById" parameterType="Long" resultMap="PaperResult">-->
<!--        <include refid="selectPaperVo"/>-->
<!--        where ID = #{ID}-->
<!--    </select>-->
        
    <insert id="insertPaperoper" parameterType="org.sys.rate.model.PaperOper">
        insert into paper_oper (ID, operatorRole,operatorID, operatorName,
                                paperID, paperName, pubID, pubName,operation,state,remark)
        values (#{ID},
        #{operatorRole},
        #{operatorID,jdbcType=INTEGER}, #{operatorName,jdbcType=VARCHAR},
        #{paperID,jdbcType=INTEGER}, #{paperName,jdbcType=VARCHAR},
        #{pubID,jdbcType=INTEGER}, #{pubName,jdbcType=VARCHAR}, #{operation,jdbcType=VARCHAR},
        #{state},#{remark})
<!--        insert into paper_oper-->
<!--        <trim prefix="(" suffix=")" suffixOverrides=",">-->
<!--            <if test="ID != null">ID,</if>-->
<!--            <if test="operatorRole != null">operatorRole,</if>-->
<!--            <if test="operatorID != null ">operatorID,</if>-->
<!--            <if test="operatorName != null">operatorName,</if>-->
<!--            <if test="paperID != null">paperID,</if>-->
<!--            <if test="paperName != null">paperName,</if>-->
<!--            <if test="pubID != null">pubID,</if>-->
<!--            <if test="pubName != null">pubName,</if>-->
<!--            <if test="time != null">time,</if>-->
<!--            <if test="operation != null">operation,</if>-->
<!--            <if test="state != null">state,</if>-->
<!--            <if test="remark != null">remark,</if>-->
<!--         </trim>-->
<!--        <trim prefix="values (" suffix=")" suffixOverrides=",">-->
<!--            <if test="ID != null">#{ID},</if>-->
<!--            <if test="operatorRole != null">#{studentID},</if>-->
<!--            <if test="operatorID != null and name != ''">#{name},</if>-->
<!--            <if test="operatorName != null">#{operatorName},</if>-->
<!--            <if test="paperID != null">#{paperID},</if>-->
<!--            <if test="paperName != null">#{paperName},</if>-->
<!--            <if test="pubID != null">#{pubID},</if>-->
<!--            <if test="pubName != null">#{pubName},</if>-->
<!--            <if test="time != null">#{time},</if>-->
<!--            <if test="operation != null">#{operation},</if>-->
<!--            <if test="state != null">#{state},</if>-->
<!--            <if test="remark != null">#{remark},</if>-->
<!--         </trim>-->
    </insert>

<!--    <update id="updatePaper" parameterType="org.sys.rate.model.Paper">-->
<!--        update paper-->
<!--        <trim prefix="SET" suffixOverrides=",">-->
<!--            <if test="studentID != null">studentID = #{studentID},</if>-->
<!--            <if test="name != null and name != ''">name = #{name},</if>-->
<!--            <if test="year != null">year = #{year},</if>-->
<!--            <if test="month != null">month = #{month},</if>-->
<!--            <if test="rank != null">rank = #{rank},</if>-->
<!--            <if test="total != null">total = #{total},</if>-->
<!--            <if test="point != null">point = #{point},</if>-->
<!--            <if test="publicationID != null">publicationID = #{publicationID},</if>-->
<!--            <if test="content != null">content=#{content},</if>-->
<!--            <if test="url != null">url=#{url},</if>-->
<!--        </trim>-->
<!--        where ID = #{ID}-->
<!--    </update>-->

<!--    <update id="editState" parameterType="org.sys.rate.model.Paper">-->
<!--        update paper-->
<!--        <trim prefix="SET" suffixOverrides=",">-->
<!--            <if test="state != null">state=#{state},</if>-->
<!--            <if test="reason != null">reason=#{reason},</if>-->
<!--&lt;!&ndash;            <if test="url != null">url=#{url},</if>&ndash;&gt;-->
<!--        </trim>-->
<!--        where ID = #{ID}-->
<!--    </update>-->
<!--    <delete id="deletePaperById" parameterType="Long">-->
<!--        delete from paper where ID = #{ID}-->
<!--    </delete>-->

<!--    <delete id="deletePaperByIds" parameterType="String">-->
<!--        delete from paper where ID in -->
<!--        <foreach item="ID" collection="array" open="(" separator="," close=")">-->
<!--            #{ID}-->
<!--        </foreach>-->
<!--    </delete>-->

</mapper>